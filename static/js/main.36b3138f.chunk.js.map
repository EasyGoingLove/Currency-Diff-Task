{"version":3,"sources":["services/cache.ts","components/GroupBox/GroupBox.tsx","components/Dorpdown.tsx","App.tsx","reportWebVitals.ts","index.tsx"],"names":["cache","baseUrl","currentCurrency","getData","getCachedData","deleteOldCaches","a","currentCache","caches","keys","key","isOurCache","substr","delete","cacheName","url","open","cacheStorage","match","cachedResponse","ok","json","cachedData","console","log","add","data","error","GroupBox","boxNumber","boxData","className","Object","getOwnPropertyNames","map","e","i","length","Dropdown","useState","display1","setDisplay1","display2","setDisplay2","display3","setDisplay3","clickHandler","currName","group1","group2","group3","currencyCodes","defineProperty","toUpperCase","value","onClick","App","useEffect","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.36b3138f.chunk.js","sourcesContent":["const cache = async (baseUrl:string,currentCurrency:string) => {\r\n  \r\n  // Try to get data from the cache, but fall back to fetching it live.\r\n  async function getData() {\r\n    const cacheVersion = 1;\r\n    const cacheName = `currency-${cacheVersion}`;\r\n      const url = `${baseUrl}/${currentCurrency}.json`;\r\n      let cachedData = await getCachedData(cacheName, url);\r\n\r\n      if (cachedData) {\r\n        console.log(\"Retrieved cached data\");\r\n        return cachedData;\r\n      }\r\n\r\n      console.log(\"Fetching fresh data\");\r\n\r\n      const cacheStorage = await caches.open(cacheName);\r\n      await cacheStorage.add(url);\r\n      cachedData = await getCachedData(cacheName, url);\r\n      await deleteOldCaches(cacheName);\r\n\r\n      return cachedData;\r\n    \r\n  }\r\n\r\n  // Get data from the cache.\r\n  async function getCachedData(cacheName: string, url: RequestInfo) {\r\n    const cacheStorage = await caches.open(cacheName);\r\n    const cachedResponse = await cacheStorage.match(url);\r\n\r\n    if (!cachedResponse || !cachedResponse.ok) {\r\n      return false;\r\n    }\r\n\r\n    return await cachedResponse.json();\r\n  }\r\n\r\n  // Delete any old caches to respect user's disk space.\r\n  async function deleteOldCaches(currentCache: string) {\r\n    const keys = await caches.keys();\r\n\r\n    for (const key of keys) {\r\n      const isOurCache = \"myapp-\" === key.substr(0, 6);\r\n\r\n      if (currentCache === key || !isOurCache) {\r\n        continue;\r\n      }\r\n\r\n      caches.delete(key);\r\n    }\r\n  }\r\n\r\n  try {\r\n    const data = await getData();\r\n    console.log({ data });\r\n  } catch (error) {\r\n    console.error({ error });\r\n  }\r\n};\r\n\r\nexport default cache;\r\n","import React from \"react\";\r\n\r\nimport \"./GroupBox.css\";\r\n\r\ntype BoxProps = {\r\n  boxNumber: number;\r\n  boxData: any;\r\n};\r\nconst GroupBox = ({ boxNumber, boxData }: BoxProps) => {\r\n  return (\r\n    <div className=\"box-container\">\r\n      <h1 className=\"box-header\">Group {boxNumber}</h1>\r\n      {Object.getOwnPropertyNames(boxData).map((e: any, i: number) => {\r\n        return (\r\n          <h3 className=\"targeted-currencies\" key={`key:${i}`}>\r\n            {e} - {boxData[`${e}`]}\r\n          </h3>\r\n        );\r\n      })}\r\n      <h3>Count: {Object.getOwnPropertyNames(boxData).length}</h3>\r\n    </div>\r\n  );\r\n};\r\nexport default GroupBox;\r\n","/* eslint-disable jsx-a11y/anchor-is-valid */\r\nimport React, { useState } from \"react\";\r\n\r\nimport GroupBox from \"./GroupBox/GroupBox\";\r\nimport \"./Dropdown.css\";\r\n\r\ntype objectType = { key: string; value: number };\r\n\r\nconst Dropdown = () => {\r\n  const [display1, setDisplay1] = useState<JSX.Element>(),\r\n    [display2, setDisplay2] = useState<JSX.Element>(),\r\n    [display3, setDisplay3] = useState<JSX.Element>();\r\n\r\n  const clickHandler = async (currName: string) => {\r\n    const cacheName = `currency-1`;\r\n    const baseUrl =\r\n      \"https://cdn.jsdelivr.net/gh/fawazahmed0/currency-api@1/latest/currencies\";\r\n    const currencyCodes = [\"usd\", \"eur\", \"aud\", \"cad\", \"chf\", \"nzd\", \"bgn\"];\r\n\r\n    let url = baseUrl + \"/\" + currName + \".json\";\r\n    getCachedData(cacheName, url);\r\n\r\n    async function getCachedData(cacheName: any, url: any) {\r\n      const cacheStorage = await caches.open(cacheName);\r\n      const cachedResponse = await cacheStorage.match(url);\r\n\r\n      if (!cachedResponse || !cachedResponse.ok) {\r\n        return false;\r\n      }\r\n      let data: any = await cachedResponse.json();\r\n\r\n      let group1: objectType = {} as objectType;\r\n      let group2: objectType = {} as objectType;\r\n      let group3: objectType = {} as objectType;\r\n\r\n      for (let i of currencyCodes) {\r\n        if (currName !== i) {\r\n          if (data[`${currName}`][`${i}`] < 1) {\r\n            Object.defineProperty(\r\n              group1,\r\n              `${currName.toUpperCase()}-${i.toUpperCase()}`,\r\n              { value: data[`${currName}`][`${i}`] }\r\n            );\r\n          }\r\n          if (\r\n            data[`${currName}`][`${i}`] >= 1 &&\r\n            data[`${currName}`][`${i}`] < 1.5\r\n          ) {\r\n            Object.defineProperty(\r\n              group2,\r\n              `${currName.toUpperCase()}-${i.toUpperCase()}`,\r\n              { value: data[`${currName}`][`${i}`] }\r\n            );\r\n          }\r\n          if (data[`${currName}`][`${i}`] >= 1.5) {\r\n            Object.defineProperty(\r\n              group3,\r\n              `${currName.toUpperCase()}-${i.toUpperCase()}`,\r\n              { value: data[`${currName}`][`${i}`] }\r\n            );\r\n          }\r\n        }\r\n      }\r\n\r\n      //  console.log(clickHandlerickedData);\r\n\r\n      setDisplay1(<GroupBox boxNumber={1} boxData={group1} />);\r\n      setDisplay2(<GroupBox boxNumber={2} boxData={group2} />);\r\n      setDisplay3(<GroupBox boxNumber={3} boxData={group3} />);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"dropdown-container\">\r\n      <div className=\"wrap\">\r\n        <span className=\"decor\"></span>\r\n        <nav>\r\n          <ul className=\"primary\">\r\n            <li>\r\n              <a>Currencies</a>\r\n              <ul className=\"sub\">\r\n                <li>\r\n                  <a\r\n                    onClick={() => {\r\n                      clickHandler(\"usd\");\r\n                    }}\r\n                  >\r\n                    USD\r\n                  </a>\r\n                </li>\r\n                <li>\r\n                  <a\r\n                    onClick={() => {\r\n                      clickHandler(\"eur\");\r\n                    }}\r\n                  >\r\n                    EUR\r\n                  </a>\r\n                </li>\r\n                <li>\r\n                  <a\r\n                    onClick={() => {\r\n                      clickHandler(\"aud\");\r\n                    }}\r\n                  >\r\n                    AUD\r\n                  </a>\r\n                </li>\r\n                <li>\r\n                  <a\r\n                    onClick={() => {\r\n                      clickHandler(\"cad\");\r\n                    }}\r\n                  >\r\n                    CAD\r\n                  </a>\r\n                </li>\r\n                <li>\r\n                  <a\r\n                    onClick={() => {\r\n                      clickHandler(\"chf\");\r\n                    }}\r\n                  >\r\n                    CHF\r\n                  </a>\r\n                </li>\r\n                <li>\r\n                  <a\r\n                    onClick={() => {\r\n                      clickHandler(\"nzd\");\r\n                    }}\r\n                  >\r\n                    NZD\r\n                  </a>\r\n                </li>\r\n                <li>\r\n                  <a\r\n                    onClick={() => {\r\n                      clickHandler(\"bgn\");\r\n                    }}\r\n                  >\r\n                    BGN\r\n                  </a>\r\n                </li>\r\n              </ul>\r\n            </li>\r\n          </ul>\r\n        </nav>\r\n      </div>\r\n      <div className=\"display-container\">\r\n        {display1}\r\n        {display2}\r\n        {display3}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Dropdown;\r\n","import React, { useEffect } from \"react\";\n\nimport cache from \"./services/cache\";\nimport Dropdown from \"./components/Dorpdown\";\nimport \"./App.css\";\n\nconst App = () => {\n  useEffect(() => {\n    const baseUrl =\n      \"https://cdn.jsdelivr.net/gh/fawazahmed0/currency-api@1/latest/currencies\";\n    const currencyCodes = [\"usd\", \"eur\", \"aud\", \"cad\", \"chf\", \"nzd\", \"bgn\"];\n    for (let i of currencyCodes) {\n      cache(baseUrl, i);\n    }\n  }, []);\n\n  return (\n    <div className=\"App\">\n      <Dropdown />\n    </div>\n  );\n};\n\nexport default App;\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}